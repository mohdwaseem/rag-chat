<nav class="app-nav">
  <div class="nav-content">
    <h2><i class="pi pi-comments"></i> {{ 'app.title' | translate }}</h2>
    <div class="nav-links">
      <button pButton
              routerLink="/chat"
              icon="pi pi-comments"
              [label]="'app.chat' | translate"
              class="p-button-text"></button>
            <button *ngIf="isAdmin" pButton
              routerLink="/admin"
              icon="pi pi-cog"
              [label]="'app.admin' | translate"
              class="p-button-text"></button>
            <button *ngIf="!isAuthenticated" pButton
              routerLink="/login"
              icon="pi pi-sign-in"
              [label]="'app.login' | translate"
              class="p-button-text"></button>
            <button *ngIf="!isAuthenticated" pButton
              routerLink="/register"
              icon="pi pi-user-plus"
              [label]="'app.register' | translate"
              class="p-button-text"></button>
            <button *ngIf="isAuthenticated" pButton
              icon="pi pi-sign-out"
              [label]="'app.logout' | translate"
              class="p-button-text"
              (click)="logout()"></button>
      <p-select
        [(ngModel)]="currentLanguage"
        [options]="languages"
        (onChange)="changeLanguage($event)"
        class="language-switcher">
        <ng-template pTemplate="selectedItem">
          <div class="language-option" *ngIf="getSelectedLanguage()">
            <span class="lang-label">{{ getSelectedLanguage()?.label }}</span>
          </div>
        </ng-template>
        <ng-template pTemplate="item" let-language>
          <div class="language-option">
            <span class="lang-label">{{ language.label }}</span>
          </div>
        </ng-template>
      </p-select>
    </div>
  </div>
</nav>

<router-outlet></router-outlet>

<app-floating-chat-widget [apiBase]="apiBase" [hideOnRoutes]="['/admin', '/login', '/register']"></app-floating-chat-widget>

